# –õ–µ–Ω–¥–∏–Ω–≥ ‚Äî –†–∞–±–æ—Ç–∞ –∫—É—Ä—å–µ—Ä–æ–º –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ

–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –ø—Ä–æ–¥–∞—é—â–∏–π —Å–∞–π—Ç –¥–ª—è –Ω–∞–±–æ—Ä–∞ –∫—É—Ä—å–µ—Ä–æ–≤ –≤ –°–ü–±. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ –∏–∑ –ø–∞–±–ª–∏–∫–æ–≤ –≤ Telegram-–±–æ—Ç.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Ubuntu 24.04](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–Ω–∞-ubuntu-2404)
3. [–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å–±–æ—Ä–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–µ—Ä–µ–¥-–ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π)
5. [–í–∞—Ä–∏–∞–Ω—Ç A: Nginx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)](#–≤–∞—Ä–∏–∞–Ω—Ç-a-—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ-—á–µ—Ä–µ–∑-nginx-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
6. [–í–∞—Ä–∏–∞–Ω—Ç B: Apache](#–≤–∞—Ä–∏–∞–Ω—Ç-b-—Ä–∞–∑–º–µ—â–µ–Ω–∏–µ-—á–µ—Ä–µ–∑-apache)
7. [–í–∞—Ä–∏–∞–Ω—Ç C: Netlify / Vercel](#–≤–∞—Ä–∏–∞–Ω—Ç-c-netlifyvercel-–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
8. [SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)](#ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç-lets-encrypt)
9. [–ü—Ä–∏–≤—è–∑–∫–∞ –¥–æ–º–µ–Ω–∞](#–ø—Ä–∏–≤—è–∑–∫–∞-–¥–æ–º–µ–Ω–∞)
10. [UTM-–º–µ—Ç–∫–∏ –∏ Deep Links](#utm-–º–µ—Ç–∫–∏-–∏-deep-links)
11. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-—Å–∞–π—Ç–∞)
12. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°:** Ubuntu 24.04 LTS (–∏–ª–∏ –ª—é–±–æ–π Linux)
- **Node.js:** 18+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 20 LTS –∏–ª–∏ 22 LTS)
- **npm:** 9+ (—Å—Ç–∞–≤–∏—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Node.js)
- **–í–µ–±-—Å–µ—Ä–≤–µ—Ä:** Nginx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ Apache
- **–î–æ–º–µ–Ω:** –ª—é–±–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä `courier-spb.ru`)
- **VPS/—Å–µ—Ä–≤–µ—Ä:** –º–∏–Ω–∏–º—É–º 512 MB RAM, 1 CPU (—Å–∞–π—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π ‚Äî –Ω–∞–≥—Ä—É–∑–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Ubuntu 24.04

### –®–∞–≥ 1. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É

```bash
sudo apt update && sudo apt upgrade -y
```

### –®–∞–≥ 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 20 LTS

```bash
# –ß–µ—Ä–µ–∑ NodeSource (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏
node --version   # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å v20.x.x
npm --version    # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 9.x –∏–ª–∏ 10.x
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî —á–µ—Ä–µ–∑ nvm (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π Node.js):**

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
source ~/.bashrc
nvm install 20
nvm use 20
```

### –®–∞–≥ 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)

```bash
sudo apt install -y git
```

### –®–∞–≥ 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–í–∞—Ä–∏–∞–Ω—Ç A ‚Äî —á–µ—Ä–µ–∑ Git:**
```bash
cd /opt
sudo git clone https://github.com/YOUR_USERNAME/courier-landing.git
sudo chown -R $USER:$USER /opt/courier-landing
cd /opt/courier-landing
```

**–í–∞—Ä–∏–∞–Ω—Ç B ‚Äî —á–µ—Ä–µ–∑ SCP (–∑–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã):**
```bash
# –ù–∞ –õ–û–ö–ê–õ–¨–ù–û–ô –º–∞—à–∏–Ω–µ (–≥–¥–µ –ª–µ–∂–∏—Ç –ø—Ä–æ–µ–∫—Ç):
tar -czf courier-landing.tar.gz courier-landing/
scp courier-landing.tar.gz user@YOUR_SERVER_IP:/opt/

# –ù–∞ –°–ï–†–í–ï–†–ï:
cd /opt
tar -xzf courier-landing.tar.gz
cd courier-landing
```

**–í–∞—Ä–∏–∞–Ω—Ç C ‚Äî —á–µ—Ä–µ–∑ SFTP (FileZilla –∏ –¥—Ä.):**
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SFTP (–ø–æ—Ä—Ç 22)
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –≤ `/opt/courier-landing/`

### –®–∞–≥ 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd /opt/courier-landing
npm install
```

---

## –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /opt/courier-landing
npm run build
```

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –≤ –ø–∞–ø–∫–µ `dist/` –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `index.html` ‚Äî —ç—Ç–æ **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ–∞–π–ª**, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–µ. –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `vite-plugin-singlefile`, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–ª–∞–π–Ω–∏—Ç –≤—Å–µ CSS –∏ JS –ø—Ä—è–º–æ –≤ HTML.

–¢–∞–∫–∂–µ –≤ `dist/` –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã —Ñ–∞–π–ª—ã –∏–∑ `public/`:
- `robots.txt`
- `sitemap.xml`
- `_redirects` (–¥–ª—è Netlify)
- `assets/icons/bike-e.svg`

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ:
ls -la dist/
# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å: index.html, robots.txt, sitemap.xml, assets/
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π

### 1. BOT_LINK (Telegram-–±–æ—Ç)

–ë–æ—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `@kurer_pro_bot`. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

**–§–∞–π–ª `src/config.ts`** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥:
```typescript
export const CONFIG = {
  BOT_LINK: "https://t.me/kurer_pro_bot?start=",
  // –ó–∞–º–µ–Ω–∏—Ç–µ kurer_pro_bot –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
};
```

**–§–∞–π–ª `config.json`** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥:
```json
{
  "BOT_LINK": "tg://resolve?domain=kurer_pro_bot&start=SOURCE_PLACEHOLDER"
}
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ: `npm run build`

### 2. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ `vie/index.html` (–∏—Å—Ö–æ–¥–Ω—ã–π —à–∞–±–ª–æ–Ω, –ù–ï `dist/index.html`):

**Google Analytics 4:**
–ù–∞–π–¥–∏—Ç–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫ `GA4 Placeholder` –∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ, –∑–∞–º–µ–Ω–∏–≤ `G-XXXXXXXXXX` –Ω–∞ –≤–∞—à Measurement ID.

**–Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞:**
–ù–∞–π–¥–∏—Ç–µ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–ª–æ–∫ `Yandex.Metrika Placeholder` –∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ, –∑–∞–º–µ–Ω–∏–≤ `XXXXXXXX` –Ω–∞ –≤–∞—à ID —Å—á—ë—Ç—á–∏–∫–∞.

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π: `npm run build`

### 3. –î–æ–º–µ–Ω –≤ sitemap.xml –∏ robots.txt

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ your-domain.com –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω:
sed -i 's/your-domain.com/courier-spb.ru/g' public/sitemap.xml
sed -i 's/your-domain.com/courier-spb.ru/g' public/robots.txt

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
npm run build
```

---

## –í–∞—Ä–∏–∞–Ω—Ç A: –†–∞–∑–º–µ—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Nginx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nginx

```bash
sudo apt install -y nginx
sudo systemctl enable nginx
sudo systemctl start nginx
```

### –®–∞–≥ 2. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–∞–π—Ç–∞

```bash
sudo mkdir -p /var/www/courier-landing
sudo cp -r /opt/courier-landing/dist/* /var/www/courier-landing/
sudo chown -R www-data:www-data /var/www/courier-landing
sudo chmod -R 755 /var/www/courier-landing
```

### –®–∞–≥ 3. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ Nginx

```bash
sudo nano /etc/nginx/sites-available/courier-landing
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–∑–∞–º–µ–Ω–∏—Ç–µ `courier-spb.ru` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω):

```nginx
server {
    listen 80;
    listen [::]:80;
    server_name courier-spb.ru www.courier-spb.ru;

    root /var/www/courier-landing;
    index index.html;

    # Gzip —Å–∂–∞—Ç–∏–µ
    gzip on;
    gzip_vary on;
    gzip_proxied any;
    gzip_comp_level 6;
    gzip_min_length 256;
    gzip_types
        text/plain
        text/css
        text/xml
        text/javascript
        application/javascript
        application/json
        application/xml
        application/rss+xml
        image/svg+xml;

    # Brotli (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –º–æ–¥—É–ª—å)
    # brotli on;
    # brotli_comp_level 6;
    # brotli_types text/plain text/css application/javascript application/json image/svg+xml;

    # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏
    location ~* \.(html)$ {
        expires 1h;
        add_header Cache-Control "public, must-revalidate";
    }

    location ~* \.(css|js|svg|png|jpg|jpeg|webp|avif|ico|woff|woff2|ttf)$ {
        expires 30d;
        add_header Cache-Control "public, immutable";
    }

    # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header Referrer-Policy "strict-origin-when-cross-origin" always;
    add_header X-XSS-Protection "1; mode=block" always;

    # robots.txt –∏ sitemap.xml
    location = /robots.txt {
        access_log off;
        log_not_found off;
    }

    location = /sitemap.xml {
        access_log off;
    }

    # SPA fallback ‚Äî –≤—Å–µ –ø—É—Ç–∏ –≤–µ–¥—É—Ç –Ω–∞ index.html
    location / {
        try_files $uri $uri/ /index.html;
    }

    # –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∫—Ä—ã—Ç—ã–º —Ñ–∞–π–ª–∞–º
    location ~ /\. {
        deny all;
        access_log off;
        log_not_found off;
    }
}
```

### –®–∞–≥ 4. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Å–∏–º–ª–∏–Ω–∫
sudo ln -s /etc/nginx/sites-available/courier-landing /etc/nginx/sites-enabled/

# –£–¥–∞–ª–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å–∞–π—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo rm -f /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ –æ—à–∏–±–∫–∏
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx
sudo systemctl reload nginx
```

### –®–∞–≥ 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

```bash
# –ï—Å–ª–∏ –¥–æ–º–µ–Ω –µ—â—ë –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ IP:
curl -I http://YOUR_SERVER_IP

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å: HTTP/1.1 200 OK
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://YOUR_SERVER_IP` ‚Äî –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è —Å–∞–π—Ç.

---

## –í–∞—Ä–∏–∞–Ω—Ç B: –†–∞–∑–º–µ—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Apache

### –®–∞–≥ 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Apache

```bash
sudo apt install -y apache2
sudo systemctl enable apache2
sudo systemctl start apache2

# –í–∫–ª—é—á–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏
sudo a2enmod rewrite
sudo a2enmod headers
sudo a2enmod deflate
```

### –®–∞–≥ 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã

```bash
sudo mkdir -p /var/www/courier-landing
sudo cp -r /opt/courier-landing/dist/* /var/www/courier-landing/
sudo chown -R www-data:www-data /var/www/courier-landing
```

### –®–∞–≥ 3. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ Apache

```bash
sudo nano /etc/apache2/sites-available/courier-landing.conf
```

–í—Å—Ç–∞–≤—å—Ç–µ:

```apache
<VirtualHost *:80>
    ServerName courier-spb.ru
    ServerAlias www.courier-spb.ru
    DocumentRoot /var/www/courier-landing

    <Directory /var/www/courier-landing>
        AllowOverride All
        Require all granted

        # SPA fallback
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^ /index.html [L]
    </Directory>

    # Gzip —Å–∂–∞—Ç–∏–µ
    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/html text/css application/javascript application/json image/svg+xml
    </IfModule>

    # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
    <IfModule mod_expires.c>
        ExpiresActive On
        ExpiresByType text/html "access plus 1 hour"
        ExpiresByType text/css "access plus 30 days"
        ExpiresByType application/javascript "access plus 30 days"
        ExpiresByType image/svg+xml "access plus 30 days"
    </IfModule>

    # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"

    ErrorLog ${APACHE_LOG_DIR}/courier-error.log
    CustomLog ${APACHE_LOG_DIR}/courier-access.log combined
</VirtualHost>
```

### –®–∞–≥ 4. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ

```bash
sudo a2ensite courier-landing.conf
sudo a2dissite 000-default.conf  # –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo systemctl reload apache2
```

---

## –í–∞—Ä–∏–∞–Ω—Ç C: Netlify/Vercel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### Netlify

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [netlify.com](https://netlify.com)
2. –ù–∞–∂–º–∏—Ç–µ **"Add new site"** ‚Üí **"Deploy manually"**
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø–∞–ø–∫—É `dist/` –≤ –æ–∫–Ω–æ Netlify
4. –ì–æ—Ç–æ–≤–æ! Netlify –≤—ã–¥–∞—Å—Ç URL –≤–∏–¥–∞ `xxx.netlify.app`
5. –î–ª—è —Å–≤–æ–µ–≥–æ –¥–æ–º–µ–Ω–∞: **Site settings ‚Üí Domain management ‚Üí Add custom domain**

### Vercel

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [vercel.com](https://vercel.com)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CLI: `npm i -g vercel`
3. –í –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd /opt/courier-landing
vercel --prod
```
4. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º (Vercel –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Vite –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

**–í–∞–∂–Ω–æ:** —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–≤—è–∂–∏—Ç–µ –¥–æ–º–µ–Ω –∫ —Å–µ—Ä–≤–µ—Ä—É (—Å–º. —Ä–∞–∑–¥–µ–ª –Ω–∏–∂–µ), –∏–Ω–∞—á–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –≤—ã–¥–∞–¥—É—Ç.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot

```bash
sudo apt install -y certbot
```

### –î–ª—è Nginx:

```bash
sudo apt install -y python3-certbot-nginx
sudo certbot --nginx -d courier-spb.ru -d www.courier-spb.ru
```

Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–æ–ª—É—á–∏—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- –ù–∞—Å—Ç—Ä–æ–∏—Ç Nginx –Ω–∞ HTTPS
- –î–æ–±–∞–≤–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS

### –î–ª—è Apache:

```bash
sudo apt install -y python3-certbot-apache
sudo certbot --apache -d courier-spb.ru -d www.courier-spb.ru
```

### –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

Certbot –Ω–∞ Ubuntu 24.04 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–π–º–µ—Ä systemd:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç:
sudo systemctl status certbot.timer

# –¢–µ—Å—Ç–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
sudo certbot renew --dry-run
```

---

## –ü—Ä–∏–≤—è–∑–∫–∞ –¥–æ–º–µ–Ω–∞

### –®–∞–≥ 1. –£–∑–Ω–∞–π—Ç–µ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

```bash
curl ifconfig.me
# –ù–∞–ø—Ä–∏–º–µ—Ä: 185.123.45.67
```

### –®–∞–≥ 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞

–ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º (Reg.ru, Timeweb, Beget, Namecheap –∏ —Ç.–¥.) –∏ –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å–∏:

| –¢–∏–ø  | –ò–º—è             | –ó–Ω–∞—á–µ–Ω–∏–µ        | TTL  |
|------|-----------------|-----------------|------|
| A    | @               | 185.123.45.67   | 3600 |
| A    | www             | 185.123.45.67   | 3600 |

### –®–∞–≥ 3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5‚Äì30 –º–∏–Ω—É—Ç

DNS-–∑–∞–ø–∏—Å–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –æ—Ç 5 –º–∏–Ω—É—Ç –¥–æ 48 —á–∞—Å–æ–≤ (–æ–±—ã—á–Ω–æ 5‚Äì30 –º–∏–Ω—É—Ç).

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–æ–º–µ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à IP:
dig +short courier-spb.ru
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞—à IP
```

### –®–∞–≥ 4. –ü–æ–ª—É—á–∏—Ç–µ SSL (—Å–º. —Ä–∞–∑–¥–µ–ª –≤—ã—à–µ)

---

## UTM-–º–µ—Ç–∫–∏ –∏ Deep Links

–ü—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ —Å—Å—ã–ª–æ–∫ –≤ –ø–∞–±–ª–∏–∫–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ UTM-–º–µ—Ç–∫–∏:

```
https://courier-spb.ru/?utm_source=vk
https://courier-spb.ru/?utm_source=telegram
https://courier-spb.ru/?utm_source=avito
https://courier-spb.ru/?utm_source=dzen
```

–°–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –≤ —Å—Å—ã–ª–∫—É –±–æ—Ç–∞:
- `?utm_source=vk` ‚Üí –±–æ—Ç –ø–æ–ª—É—á–∏—Ç `?start=vk`
- `?utm_source=telegram` ‚Üí –±–æ—Ç –ø–æ–ª—É—á–∏—Ç `?start=telegram`
- –ë–µ–∑ UTM ‚Üí –±–æ—Ç –ø–æ–ª—É—á–∏—Ç `?start=pub` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞

–ï—Å–ª–∏ –≤—ã –≤–Ω–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥:

```bash
cd /opt/courier-landing

# –ï—Å–ª–∏ —á–µ—Ä–µ–∑ Git ‚Äî –ø–æ–¥—Ç—è–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
git pull origin main

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
npm run build

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ Nginx
sudo cp -r dist/* /var/www/courier-landing/
sudo chown -R www-data:www-data /var/www/courier-landing

# –ì–æ—Ç–æ–≤–æ! Nginx –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (—Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
sudo nano /opt/courier-landing/deploy.sh
```

```bash
#!/bin/bash
set -e

echo "üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞..."
cd /opt/courier-landing

echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
npm install

echo "üî® –°–±–æ—Ä–∫–∞..."
npm run build

echo "üìÇ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ /var/www/..."
sudo cp -r dist/* /var/www/courier-landing/
sudo chown -R www-data:www-data /var/www/courier-landing

echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –°–∞–π—Ç –æ–±–Ω–æ–≤–ª—ë–Ω."
```

```bash
chmod +x /opt/courier-landing/deploy.sh

# –ó–∞–ø—É—Å–∫:
/opt/courier-landing/deploy.sh
```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| `npm: command not found` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js (—Å–º. –®–∞–≥ 2) |
| –û—à–∏–±–∫–∞ –ø—Ä–∏ `npm install` | `rm -rf node_modules package-lock.json && npm install` |
| Nginx: `nginx -t` –æ—à–∏–±–∫–∞ | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω—Ñ–∏–≥–∞, –æ—Å–æ–±–µ–Ω–Ω–æ —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π |
| –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ IP | `sudo ufw allow 80/tcp && sudo ufw allow 443/tcp` |
| Certbot –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä (`dig +short domain.com`) |
| –ë–µ–ª–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ | –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ |
| –ö–Ω–æ–ø–∫–∏ –Ω–µ –≤–µ–¥—É—Ç –≤ –±–æ—Ç | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `src/config.ts` ‚Äî –ø–æ–ª–µ `BOT_LINK` |
| –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (`Ctrl+Shift+R`) |

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
# –°—Ç–∞—Ç—É—Å Nginx
sudo systemctl status nginx

# –õ–æ–≥–∏ Nginx
sudo tail -f /var/log/nginx/error.log
sudo tail -f /var/log/nginx/access.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo ss -tlnp | grep -E ':80|:443'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ firewall
sudo ufw status

# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã (–µ—Å–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã)
sudo ufw allow 'Nginx Full'
# –∏–ª–∏
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
courier-landing/
‚îú‚îÄ‚îÄ package.json            ‚Üê –ö–æ—Ä–Ω–µ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã-–æ–±—ë—Ä—Ç–∫–∏ (`npm run build`, `npm run dev`)
‚îú‚îÄ‚îÄ tg/                     ‚Üê Telegram-–±–æ—Ç (aiogram + SQLite)
‚îú‚îÄ‚îÄ vie/
‚îÇ   ‚îú‚îÄ‚îÄ package.json        ‚Üê –§—Ä–æ–Ω—Ç–µ–Ω–¥-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.ts      ‚Üê –ö–æ–Ω—Ñ–∏–≥ Vite
‚îÇ   ‚îú‚îÄ‚îÄ index.html          ‚Üê HTML —à–∞–±–ª–æ–Ω —Å –º–µ—Ç–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx         ‚Üê –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–µ–Ω–¥–∏–Ω–≥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.ts       ‚Üê BOT_LINK –∏ UTM –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.css       ‚Üê –°—Ç–∏–ª–∏ (Tailwind + –∫–∞—Å—Ç–æ–º–Ω—ã–µ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.tsx        ‚Üê –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ React
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/cn.ts     ‚Üê –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ public/
‚îÇ       ‚îú‚îÄ‚îÄ robots.txt      ‚Üê –î–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Ä–æ–±–æ—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ sitemap.xml     ‚Üê –ö–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –¥–æ–º–µ–Ω!)
‚îÇ       ‚îú‚îÄ‚îÄ _redirects      ‚Üê –î–ª—è Netlify
‚îÇ       ‚îî‚îÄ‚îÄ assets/icons/
‚îÇ           ‚îî‚îÄ‚îÄ bike-e.svg  ‚Üê SVG-–∏–∫–æ–Ω–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥–∞
‚îî‚îÄ‚îÄ dist/                   ‚Üê –†–µ–∑—É–ª—å—Ç–∞—Ç `npm run build` (–≥–æ—Ç–æ–≤–æ –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞)
```
